<script lang="ts" setup>
import { onMounted, ref } from "vue";
import Modal from "../utils/ToastComp.vue";

const showModal = ref(false);
let fu = ref<HTMLDivElement | null>(null);
let li = ref<HTMLDivElement | null>(null);

onMounted(() => {
  // åˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨è§†çª—å†…
  let observer3 = new IntersectionObserver((entries3) => {
    entries3.forEach((entry) => {
      // å…ƒç´ å‡ºç°åœ¨è§†çª—å†…
      if (entry.isIntersecting) {
        setTimeout(() => {
          fu.value!.classList.add("fade-in");
          li.value!.classList.add("fade-in");
        }, 400);
      }
    });
  });
  observer3.observe(fu.value as HTMLDivElement);
});
</script>

<template>
  <Teleport to="body">
    <modal :show="showModal" @close="showModal = false">
      <template #header>
        <h3>å…³äºæœ¬ç«™</h3>
      </template>
      <template #body>
        <p>
          âš ï¸ è¯·æ³¨æ„ï¼šæœ¬ç«™ç‚¹<span style="color: #ff0099">å¹¶é</span
          >å®˜æ–¹ç«™ç‚¹ï¼Œä»…ç”±çˆ±å¥½è€…åˆ›å»ºï¼Œæ—¨åœ¨ä¸ºåˆ°è®¿è€…æä¾›ã€Œèµ·æ°åŒå­ã€çš„ç›¸å…³ä¿¡æ¯ä¸èµ„æºã€‚
        </p>
        <p>
          æœ¬ç«™ç‚¹å°†å°½åŠ›ç¡®ä¿å†…å®¹çš„å‡†ç¡®æ€§å’Œæ—¶æ•ˆæ€§ï¼Œä½†ä»å¯èƒ½ä¼šå‡ºç°æœ‰å¤±åé¢‡çš„è¡¨è¿°ï¼Œè¿™<span
            style="color: #ff0099"
            >å¹¶ä¸ä»£è¡¨</span
          >å®˜æ–¹ç«‹åœºæˆ–æ„è§ã€‚
        </p>
        <p>
          å¦‚æœæ‚¨éœ€è¦åé¦ˆé¡µé¢ä¸­å­˜åœ¨çš„<span style="color: #ff0099">é”™è¯¯/é”™ä½</span
          >ï¼Œå¯ä»¥é€šè¿‡å³é”®èœå•ä¸­çš„[<a
            href="mailto:ling.vc@foxmail.com"
            style="color: #ff0099"
            target="_blank"
            title="åé¦ˆBug"
            >åé¦ˆBug</a
          >]è”ç³»æˆ‘ï¼Œæˆ‘ä¼šå°½å¯èƒ½åŠæ—¶ä¿®æ­£ã€‚
        </p>
        <p>
          å¦‚æœæ‚¨æ˜¯<span style="color: #ff0099">å®˜æ–¹</span
          >ä¸”éœ€è¦å›æ”¶è¯¥åŸŸåï¼Œå¯ä»¥é€šè¿‡[<a
            href="mailto:ling.vc@foxmail.com"
            style="color: #ff0099"
            target="_blank"
            title="é‚®ç®±ï¼šling.vc@foxmail.com"
            >é‚®ç®±</a
          >]è”ç³»æˆ‘ï¼Œæˆ‘ä¼šå°†å½“å‰åŸŸåè½¬å…¥åˆ°æ‚¨æ‰€æä¾›çš„åŸŸåæ³¨å†Œå•†ã€‚
        </p>
      </template>
    </modal>
  </Teleport>

  <div class="content">
    <div class="outro">
      <h2>æ¯ä¸€ä½è™šæ‹Ÿæ­Œæ‰‹éƒ½å› çˆ±è¯ç”Ÿï¼Œç”±çˆ±æˆé•¿</h2>
      <h2>æˆ‘ä»¬å°†æƒ…æ„Ÿå¯„æ‰˜äºä»–ä»¬çš„æ­Œå£°ä¹‹ä¸­</h2>
      <h2>å€Ÿç”±ä»–ä»¬ä¹‹å£ï¼Œå”±å‡ºå¿ƒä¸­æ‰€æ€</h2>
      <h2>ç¥æˆ‘ä»¬çš„åŒå­è¶Šæ¥è¶Šå¥½ï¼Œå¬ä¼—è¶Šæ¥è¶Šå¤šğŸ‰</h2>
      <br />
      <br />
      <br />
      <br />
      <p>
        æ‚¨å¯ä»¥é€šè¿‡<span style="color: #ff0099" tilte="å°è¯•ç‚¹å‡»ä½ çš„é¼ æ ‡å³é”®"
          >ã€Œå³é”®èœå•ã€</span
        >äº†è§£æ›´å¤šåŒå­çš„ä¿¡æ¯
      </p>
      <p>
        ä¹Ÿå¯ä»¥ç‚¹å‡» [<span @click="showModal = !showModal" style="color: #ff0099"
          >æ­¤å¤„</span
        >] æŸ¥çœ‹å…³äºæœ¬ç«™ç‚¹çš„ç›¸å…³ä¿¡æ¯
      </p>
    </div>

    <div ref="fu" class="character fu">
      <img
        alt="èµ·å¤"
        src="https://article.biliimg.com/bfs/article/ce971427853edff10f6c81718ac4ae0ceff0cd41.png@1e_1c.webp"
      />
    </div>

    <div ref="li" class="character li">
      <img
        alt="èµ·ç¤¼"
        src="https://article.biliimg.com/bfs/article/e41acee7c137303a9743f04fc263a749999518c3.png@1e_1c.webp"
      />
    </div>
  </div>
</template>

<style lang="scss" scoped>
// @media screen and (min-width: 1280px) {
// 	.content{
// 		font-size: 1.15em;
// 		.character {
// 			&.fu {
// 				left: -0.5vw!important;
// 			}

// 			&.li {
// 				right: 1vw!important;
// 			}
// 		}
// 	}
// }
@media screen and (min-width: 1366px) {
  .content {
    font-size: 1.25em;
    .character {
      &.fu {
        left: 0 !important;
      }

      &.li {
        right: 0 !important;
      }
    }
  }
}

@media screen and (min-width: 1440px) {
  .content {
    font-size: 1.45em;
    .character {
      &.fu {
        left: 0 !important;
      }

      &.li {
        right: 0 !important;
      }
    }
  }
}

@media screen and (min-width: 1536px) {
  .content {
    font-size: 1.4em;
    .character {
      &.fu {
        left: 5vw !important;
      }
      &.li {
        right: 5vw !important;
      }
    }
  }
}

@media screen and (min-width: 1920px) {
  .content {
    font-size: 1.75em;
    .character {
      &.fu {
        left: 0vw !important;
      }

      &.li {
        right: 1vw !important;
      }
    }
  }
}

@media screen and (min-width: 2560px) {
  .content {
    font-size: 2.3em;
    .character {
      &.fu {
        left: 0vw !important;
      }

      &.li {
        right: 1vw !important;
      }
    }
  }
}

a {
  text-decoration: none;
  color: #000;
}

.content {
  height: 100vh;
  position: relative;
  overflow: hidden;

  .outro {
    width: 50vw;
    margin: 33vh auto 24vh;
  }

  .character {
    opacity: 0;
    height: 85vh;
    position: absolute;
    bottom: 2vh;

    &.fu {
      opacity: 0;
      left: 4vw;
    }

    &.li {
      right: 5vw;
      opacity: 0;
    }

    img {
      height: 95%;
    }
  }
}
</style>
