<script lang="ts" setup>
import {onMounted, ref} from "vue";

let fu = ref<HTMLDivElement | null>(null)
let text = ref<HTMLDivElement | null>(null)
let timeline2 = ref<HTMLDivElement | null>(null)

onMounted(() => {
	// document.querySelectorAll('.el-timeline-item__node--normal').forEach((item) => {
	// 	item.classList.add('el-timeline-item__node--large')
	// })
	// document.querySelectorAll('.el-timeline-item').forEach((item, index) => {
	// 	item.classList.add('hide')
	// })
	// åˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨è§†çª—å†…
	let observer2 = new IntersectionObserver(entries2 => {
		entries2.forEach(entry => {
			// å…ƒç´ å‡ºç°åœ¨è§†çª—å†…
			if (entry.isIntersecting) {
				// é€šè¿‡åœ¨æ·»åŠ 	animation-delay å®ç°å»¶è¿Ÿï¼Œè€Œä¸æ˜¯ setTimeOutï¼ˆä¼šå­˜åœ¨ç³»ç»Ÿä¸æ€§èƒ½è¯¯å·®ï¼‰
				fu.value!.classList.add('fade-in');
				text.value!.classList.add('textMove');
				timeline2.value!.classList.add('fade-in');
				document.querySelectorAll('.fu .el-timeline-item').forEach((item, index) => {
					const delay = index * 500 + 2000; // è®¡ç®—æ¯ä¸ªå…ƒç´ çš„å»¶è¿Ÿæ—¶é—´
					(item as HTMLElement).style.animationDelay = `${delay}ms`; // è®¾ç½® animation-delay å±æ€§
					item.classList.remove('hide')
					item.classList.add('animate__animated', 'animate__fadeInUp')
				})
			}
		});
	});

	observer2.observe(fu.value as HTMLDivElement);
});

let now = new Date();
let year = now.getFullYear();
let age = ref(5005 + year - 2022)
</script>

<template>
	<div class="content fu">
		<div ref="fu" class="character fu">
			<!--<img alt="" src="../static/qifu.png">-->
			<img alt="" src="https://article.biliimg.com/bfs/article/ce971427853edff10f6c81718ac4ae0ceff0cd41.png">
			<div class="name fu">èµ· <span style="color: #99FF00">å¤</span></div>

			<div ref="text" class="text">
				<div>&nbsp;<b>Â·</b>&nbsp;èº«é«˜ï¼š142cm</div>
				<div>&nbsp;<b>Â·</b>&nbsp;ä½“é‡ï¼š31kg</div>
				<div>&nbsp;<b>Â·</b>&nbsp;æ€§åˆ«ï¼šç”·</div>
				<div>&nbsp;<b>Â·</b>&nbsp;å¹´é¾„ï¼š12 <span class="blur">å…¶å®å·²ç»{{ age }}å²äº†</span></div>
				<div>&nbsp;<b>Â·</b>&nbsp;ç”Ÿæ—¥ï¼š7æœˆ13æ—¥</div>
				<div>&nbsp;<b>Â·</b>&nbsp;ä»£è¡¨ç‰©ï¼šç¬›å­</div>
				<div>&nbsp;<b>Â·</b>&nbsp;ä»£è¡¨è‰²ï¼š<span style="color: #99FF00">#99FF00</span></div>
				<div>&nbsp;<b>Â·</b>&nbsp;æ€§æ ¼ï¼šå­¤åƒ»å¯¡è¨€</div>
				<div>&nbsp;<b>Â·</b>&nbsp;å£°æºï¼šæ‰‹æŒ‡</div>
				<div>&nbsp;<b>Â·</b>&nbsp;æ–‡å­—å½¢è±¡ï¼šé»‘å‘å¸¦å¢¨ç»¿æŒ‘æŸ“ï¼Œå·¦ä¾§æœ‰ä¸ªå°éº»èŠ±è¾«ï¼Œå³ä¾§æœ‰ä¸‰è§’è€³é¥°ï¼Œå››æ¡çœ‰æ¯›ï¼Œçº¢ç³ã€‚</div>
				<div>&nbsp;<b>Â·</b>&nbsp;äººè®¾ç”»å¸ˆï¼šideolo/é…¥å¦ƒ</div>
			</div>
		</div>
		<div ref="timeline2" class="timeline">
			<el-timeline>
				<el-timeline-item icon="mic" placement="top"
				                  timestamp="2020 å¹´ 7 æœˆ 13 æ—¥"
				                  type="primary">
					åŒå­ä¸‰å‘¨å¹´ï¼Œç”Ÿè´ºæ›²ã€Šä¸æ½æ¸…é£ä¸æœ›æœˆã€‹å‘å¸ƒ
				</el-timeline-item>
				<el-timeline-item icon="mic" placement="top"
				                  timestamp="2021 å¹´ 7 æœˆ 13 æ—¥"
				                  type="primary">
					åŒå­å››å‘¨å¹´ï¼Œç”Ÿè´ºæ›²ã€Šäº¤å½— Comets Meetã€‹å‘å¸ƒ
				</el-timeline-item>
				<el-timeline-item icon="Promotion" placement="top"
				                  timestamp="2022 å¹´ 5 æœˆ 1 æ—¥"
				                  type="success">
					<el-card>
						<h3>ğŸ‰ èµ·æ°åŒå­ ACE å£°åº“å‘å¸ƒ
							<!--<iframe border="0" frameborder="no" height=86 marginheight="0"-->
							<!--        marginwidth="0" src="//music.163.com/outchain/player?type=2&id=1957143939&auto=0&height=66"-->
							<!--        style="box-shadow: none!important;margin-left:-8px"-->
							<!--        width=86></iframe>-->
						</h3>
						<!--<p>ã€è¦å°†ç­‰å¾…æ¢æˆä»€ä¹ˆã€€æˆ‘æ—©å°±æ•°ä¸æ¸…æ¥šäº†</p>-->
						<!--<p>&emsp;ä½†æ„¿ä½ èµ°å‘æˆ‘é‚£ä¸ªæ—¶åˆ»ã€€ä¸€åˆ‡éƒ½æ²¡æ”¹å˜è¿‡ã€</p>-->
						<p>
							Ace å£°åº“ä¾æ‰˜äº Ace Studio å¹³å°ï¼Œæ‚¨å¯ä»¥åœ¨ <a href="https://ace-studio.timedomain.cn/#download_home" target="_blank"
							                                title="ç‚¹å‡»å‰å¾€å•éŸ³é˜¶å£°åº“ä¸‹è½½åœ°å€">æ­¤å¤„</a> ä¸‹è½½
						</p>
					</el-card>
				</el-timeline-item>
				<el-timeline-item icon="mic" placement="top"
				                  timestamp="2022 å¹´ 7 æœˆ 13 æ—¥"
				                  type="primary">
					åŒå­äº”å‘¨å¹´ï¼Œç”Ÿè´ºæ›²ã€Šå¦‚æœä»…é è°è¨€å°†æˆ‘çš„ä¸–ç•Œç…§äº®ã€‹å‘å¸ƒ
				</el-timeline-item>
				<el-timeline-item icon="Management" placement="top"
				                  timestamp="2022 å¹´ 9 æœˆ 2 æ—¥"
				                  type="danger">
					èµ·æ°åŒå­è®¾å®šé›†ã€Šä¸‡çµæ¢¦æ­Œã€‹å‘å”®
				</el-timeline-item>
				<el-timeline-item icon="mic" placement="top"
				                  timestamp="2023 å¹´ 7 æœˆ 13 æ—¥"
				                  type="primary">
					èµ·æ°åŒå­å…­å²å•¦ï¼Œç”Ÿè´ºæ›²ã€Šç¥|å­ã€‹å‘å¸ƒ
				</el-timeline-item>
			</el-timeline>
		</div>
	</div>

</template>

<style lang="scss" scoped>
a {
	text-decoration: none;
	/*æ­£å¸¸çš„æœªè¢«è®¿é—®è¿‡çš„é“¾æ¥*/
	&:link {
		color: #99FF00;
	}

	&:hover {
		color: #FF0099;
	}

	/* æ­£åœ¨ç‚¹å‡»çš„é“¾æ¥*/
	&:visited {
		color: #99FF00;
	}

	&:hover:visited {
		color: #FF0099;
	}
}
@media screen and (min-width: 1366px) {
	.content {
		.fu {
			left: 5vw !important;
		}

		.name {
			font-size: 2.5em !important;
			left: 20% !important;
		}

		.text {
			left: 3vw !important;
			width: 20vw !important;
			font-size: 1.4em !important;
		}

		.timeline {
			.el-timeline {
				font-size: 1.1em !important;
				--el-font-size-small: 1em !important;
				padding-left: 9%;
				--el-timeline-node-size-large: 1em !important;

				.el-card {
					--el-card-padding: 20px 35px !important;
				}
			}
		}
	}
}

@media screen and (min-width: 1440px) {
	iframe {
		position: absolute;
		top: 14%;
		right: 2% !important;
	}
	.content {
		.name {
			font-size: 3em !important;
			left: 20% !important;
		}

		.text {
			left: 3vw !important;
			width: 20vw !important;
			font-size: 1.6em !important;
		}

		.timeline {
			.el-timeline {
				font-size: 1.2em !important;
				--el-font-size-small: 1em !important;
				padding-left: 9%;
				--el-timeline-node-size-large: 1em !important;

				.el-card {
					--el-card-padding: 20px 35px !important;
				}
			}
		}
	}
}

@media screen and (min-width: 1536px) {
	.content {
		.name {
			font-size: 3em !important;
			left: 20% !important;
		}

		.text {
			left: 3vw !important;
			width: 20vw !important;
			font-size: 1.6em !important;
		}

		.timeline {
			.el-timeline {
				font-size: 1.3em !important;
				--el-font-size-small: 1em !important;
				padding-left: 9%;
				--el-timeline-node-size-large: 1em !important;

				.el-card {
					--el-card-padding: 20px 35px !important;
				}
			}
		}
	}
}

@media screen and (min-width: 1920px) {
	.content {
		.name {
			font-size: 4em !important;
			left: 20% !important;
		}

		.text {
			left: 3vw !important;
			width: 20vw !important;
			font-size: 2.1em !important;
		}

		.timeline {
			.el-timeline {
				font-size: 1.8em !important;
				--el-font-size-small: 1em !important;
				padding-left: 9%;
				--el-timeline-node-size-large: 1em !important;

				.el-card {
					--el-card-padding: 20px 35px !important;
				}
			}
		}
	}
}

@media screen and (min-width: 2560px) {
	.blur {
		filter: blur(7px) !important;
	}
	.content {
		.name {
			font-size: 5.5em !important;
			left: 20% !important;
		}

		.text {
			left: 2vw !important;
			width: 21vw !important;
			font-size: 3em !important;
		}

		.timeline {
			.el-timeline {
				font-size: 2.4em !important;
				--el-font-size-small: 1em !important;
				padding-left: 9%;
				--el-timeline-node-size-large: 1em !important;

				.el-card {
					margin: 0 auto !important;
					--el-card-padding: 20px 50px !important;
				}
			}
		}
	}
}

iframe {
	position: absolute;
	bottom: 10%;
	right: 5%;
}

.blur {
	filter: blur(2.5px);
	transition: all 0.75s;
}

.blur:hover {
	transition: all 0.75s;
	filter: none;
}

.hide {
	opacity: 0;
}

.content {
	height: 100vh;
	position: relative;
	overflow-x: hidden;

	.textMove {
		transition: all 1s;
		opacity: 1 !important;
		transform: translateX(19.5vw) !important;
	}

	.character {
		height: 85vh;
		max-width: 30vw;
		position: absolute;
		bottom: 4vh;
		left: 7vw;
		//opacity: 0;

		&.fu {
			transition: all 1s;

			.text {
				position: absolute;
				top: 0;
				left: 0;
				text-align: left;
				font-size: 1.1em;
				//border: #ff0099 2px solid;
				//border-radius: 10px;
				border-radius: 10px;
				border: none; /* å»æ‰æ‰€æœ‰è¾¹æ¡† */
				padding: 7%;
				margin-top: 2%;
				opacity: 0;
				width: 71%;
				transition: all 1s;
				transition-delay: 500ms;


				div {
					border-bottom: #99FF0070 1.5px solid;
					margin-bottom: 15px;
				}

				p:first-of-type {
					margin-top: 0;
				}

				p:last-of-type {
					margin-bottom: 0;
				}
			}

			.name {
				position: absolute;
				background-color: rgba(0, 0, 0, 0.25);
				writing-mode: vertical-rl;
				font-size: 2.5em;
				left: 15%;
				top: 2%;
				padding: 12px 7px 18px 8px;
				border: 2px inset rgba(153, 255, 0, 0.5);
				border-radius: 5px;
				z-index: -1;
			}
		}

		img {
			height: 95%;
		}
	}

	.timeline {
		position: absolute;
		top: 15vh;
		right: 10vw;
		height: 80vh;
		width: 40vw;
		margin-top: -5vh;
		background-color: #00000040;
		border-radius: 10px;
		padding: 2.5% 0 0 4.5%;
		box-sizing: border-box;
		overflow-x: hidden;
		overflow-y: hidden;
		text-align: left;
		opacity: 0;
		animation-delay: 1500ms;

		.el-timeline {
			margin-left: -15% !important;
			width: 100%;
		}

		.el-timeline-item__timestamp {
			color: #ff0099 !important;
		}

		.el-timeline {
			--el-timeline-node-size-large: 18px !important;
			--el-text-color-secondary: #fff
		}

		//
		//.el-timeline-item {
		//	width: 75%;
		//}
	}
}
</style>
